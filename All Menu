
local NazamOfficial = "Nazam Official"

-- Services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")

-- Variables
local isDragging = false
local dragStart, mainStartPos, iconStartPos
local isMenuOpen = true
local aimEnabled = false
local aimMode = "Head" -- "Head" or "Body"
local teleportPoints = {}
local spectatingPlayer = nil
local isSpectating = false

-- Koordinat teleport default (5 slot)
for i = 1, 5 do
    teleportPoints[i] = Vector3.new(0, 0, 0)
end

-- UI Creation
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BN XITERZ"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Mini Icon
local MiniIcon = Instance.new("ImageButton")
MiniIcon.Size = UDim2.new(0, 50, 0, 50)
MiniIcon.Position = UDim2.new(0, 20, 0, 20)
MiniIcon.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
MiniIcon.BackgroundTransparency = 0.2
MiniIcon.Image = "rbxassetid://96516505713471" -- Kosong, nanti bisa diisi gambar
MiniIcon.Visible = false
MiniIcon.ZIndex = 10

local MiniIconCorner = Instance.new("UICorner")
MiniIconCorner.CornerRadius = UDim.new(0, 12)
MiniIconCorner.Parent = MiniIcon

local MiniIconStroke = Instance.new("UIStroke")
MiniIconStroke.Color = Color3.fromRGB(100, 100, 120)
MiniIconStroke.Thickness = 2
MiniIconStroke.Parent = MiniIcon

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 350, 0, 500)
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -250)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
MainFrame.BackgroundTransparency = 0.05
MainFrame.ClipsDescendants = true

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 16)
MainCorner.Parent = MainFrame

local MainStroke = Instance.new("UIStroke")
MainStroke.Color = Color3.fromRGB(50, 50, 60)
MainStroke.Thickness = 2
MainStroke.Parent = MainFrame

-- Background Image (placeholder)
local Background = Instance.new("ImageLabel")
Background.Size = UDim2.new(1, 0, 1, 0)
Background.BackgroundTransparency = 1
Background.Image = "rbxassetid://122705514409944"
Background.ImageTransparency = 0.9
Background.ScaleType = Enum.ScaleType.Crop
Background.Parent = MainFrame

-- Header
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 50)
Header.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
Header.BackgroundTransparency = 0.3
Header.BorderSizePixel = 0

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 16)
HeaderCorner.Parent = Header

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -60, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Text = "BN XITERZ"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Header

local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -40, 0, 10)
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Text = "X"
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 14
CloseButton.ZIndex = 5

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 8)
CloseCorner.Parent = CloseButton

-- Content Area
local Content = Instance.new("Frame")
Content.Size = UDim2.new(1, -20, 1, -80)
Content.Position = UDim2.new(0, 10, 0, 60)
Content.BackgroundTransparency = 1
Content.Parent = MainFrame

-- Tab Buttons
local TabButtons = Instance.new("Frame")
TabButtons.Size = UDim2.new(1, 0, 0, 40)
TabButtons.BackgroundTransparency = 1
TabButtons.Parent = Content

local Tabs = {"Information", "Aim", "Teleport", "Spectate", "Buy"}
local CurrentTab = "Information"

local function createTabButton(text, index)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.18, 0, 1, 0)
    button.Position = UDim2.new(0.18 * (index - 1), 0, 0, 0)
    button.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
    button.TextColor3 = Color3.fromRGB(200, 200, 200)
    button.Text = text
    button.Font = Enum.Font.Gotham
    button.TextSize = 12
    button.BorderSizePixel = 0
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 8)
    buttonCorner.Parent = button
    
    button.MouseEnter:Connect(function()
        if CurrentTab ~= text then
            button.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
        end
    end)
    
    button.MouseLeave:Connect(function()
        if CurrentTab ~= text then
            button.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
        end
    end)
    
    button.Parent = TabButtons
    return button
end

-- Tab Contents
local TabContents = Instance.new("Frame")
TabContents.Size = UDim2.new(1, 0, 1, -50)
TabContents.Position = UDim2.new(0, 0, 0, 50)
TabContents.BackgroundTransparency = 1
TabContents.Parent = Content

-- Function to create modern toggle switch
local function createToggleSwitch(text, yPosition, defaultValue, callback)
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(1, 0, 0, 40)
    frame.Position = UDim2.new(0, 0, 0, yPosition)
    frame.BackgroundTransparency = 1
    
    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0.6, 0, 1, 0)
    label.Position = UDim2.new(0, 0, 0, 0)
    label.BackgroundTransparency = 1
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Text = text
    label.Font = Enum.Font.Gotham
    label.TextSize = 14
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = frame
    
    local toggleFrame = Instance.new("Frame")
    toggleFrame.Size = UDim2.new(0, 50, 0, 25)
    toggleFrame.Position = UDim2.new(1, -60, 0.5, -12.5)
    toggleFrame.BackgroundColor3 = defaultValue and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(80, 80, 80)
    toggleFrame.BorderSizePixel = 0
    
    local toggleCorner = Instance.new("UICorner")
    toggleCorner.CornerRadius = UDim.new(1, 0)
    toggleCorner.Parent = toggleFrame
    
    local toggleCircle = Instance.new("Frame")
    toggleCircle.Size = UDim2.new(0, 21, 0, 21)
    toggleCircle.Position = defaultValue and UDim2.new(1, -23, 0.5, -10.5) or UDim2.new(0, 2, 0.5, -10.5)
    toggleCircle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    toggleCircle.BorderSizePixel = 0
    
    local circleCorner = Instance.new("UICorner")
    circleCorner.CornerRadius = UDim.new(1, 0)
    circleCorner.Parent = toggleCircle
    
    toggleCircle.Parent = toggleFrame
    toggleFrame.Parent = frame
    frame.Parent = TabContents
    
    local isToggled = defaultValue
    
    toggleFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            isToggled = not isToggled
            
            local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
            
            if isToggled then
                local tween = TweenService:Create(toggleFrame, tweenInfo, {BackgroundColor3 = Color3.fromRGB(0, 150, 0)})
                local circleTween = TweenService:Create(toggleCircle, tweenInfo, {Position = UDim2.new(1, -23, 0.5, -10.5)})
                tween:Play()
                circleTween:Play()
            else
                local tween = TweenService:Create(toggleFrame, tweenInfo, {BackgroundColor3 = Color3.fromRGB(80, 80, 80)})
                local circleTween = TweenService:Create(toggleCircle, tweenInfo, {Position = UDim2.new(0, 2, 0.5, -10.5)})
                tween:Play()
                circleTween:Play()
            end
            
            if callback then
                callback(isToggled)
            end
        end
    end)
    
    return frame
end

-- Information Tab
local InformationTab = Instance.new("ScrollingFrame")
InformationTab.Size = UDim2.new(1, 0, 1, 0)
InformationTab.BackgroundTransparency = 1
InformationTab.ScrollBarThickness = 4
InformationTab.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 120)
InformationTab.Visible = false
InformationTab.Parent = TabContents

local InfoText = Instance.new("TextLabel")
InfoText.Size = UDim2.new(1, -20, 0, 300)
InfoText.Position = UDim2.new(0, 10, 0, 10)
InfoText.BackgroundTransparency = 1
InfoText.TextColor3 = Color3.fromRGB(255, 255, 255)
InfoText.Text = [[
BN XITERZ
Version: 1.0
Developer: Nazam Official
Co-Developer: Birul

FEATURES:
â€¢ Advanced Aim System
â€¢ Teleport System
â€¢ Player Spectate
â€¢ Smooth UI Design

INSTRUCTIONS:
1. Use tabs to navigate features
2. Toggle switches to enable/disable
3. Drag UI to reposition
4. Click X to minimize

Note: Use responsibly
]]
InfoText.Font = Enum.Font.Gotham
InfoText.TextSize = 13
InfoText.TextWrapped = true
InfoText.TextXAlignment = Enum.TextXAlignment.Left
InfoText.Parent = InformationTab

-- Aim Tab
local AimTab = Instance.new("Frame")
AimTab.Size = UDim2.new(1, 0, 1, 0)
AimTab.BackgroundTransparency = 1
AimTab.Visible = false
AimTab.Parent = TabContents

local AimToggle = createToggleSwitch("Enable Aim Assist", 10, false, function(state)
    aimEnabled = state
    print("Aim Assist:", state and "ON" or "OFF")
end)

-- Aim Mode Selection
local AimModeFrame = Instance.new("Frame")
AimModeFrame.Size = UDim2.new(1, 0, 0, 80)
AimModeFrame.Position = UDim2.new(0, 0, 0, 60)
AimModeFrame.BackgroundTransparency = 1
AimModeFrame.Parent = AimTab

local ModeLabel = Instance.new("TextLabel")
ModeLabel.Size = UDim2.new(1, 0, 0, 30)
ModeLabel.Position = UDim2.new(0, 0, 0, 0)
ModeLabel.BackgroundTransparency = 1
ModeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
ModeLabel.Text = "Aim Mode:"
ModeLabel.Font = Enum.Font.Gotham
ModeLabel.TextSize = 14
ModeLabel.TextXAlignment = Enum.TextXAlignment.Left
ModeLabel.Parent = AimModeFrame

local function createModeButton(text, xPos, mode)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.45, 0, 0, 40)
    button.Position = UDim2.new(xPos, 5, 0, 35)
    button.BackgroundColor3 = aimMode == mode and Color3.fromRGB(0, 100, 200) or Color3.fromRGB(60, 60, 70)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Text = text
    button.Font = Enum.Font.GothamSemibold
    button.TextSize = 13
    button.BorderSizePixel = 0
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 8)
    buttonCorner.Parent = button
    
    button.MouseButton1Click:Connect(function()
        aimMode = mode
        for _, btn in pairs(AimModeFrame:GetChildren()) do
            if btn:IsA("TextButton") then
                btn.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
            end
        end
        button.BackgroundColor3 = Color3.fromRGB(0, 100, 200)
        print("Aim Mode set to:", mode)
    end)
    
    button.Parent = AimModeFrame
    return button
end

local HeadButton = createModeButton("HEAD", 0, "Head")
local BodyButton = createModeButton("BODY", 0.45, "Body")

-- Aim Assist Function
local function aimAtTarget(targetPart)
    if not aimEnabled or not targetPart then return end
    
    local character = LocalPlayer.Character
    if not character then return end
    
    local humanoid = character:FindFirstChild("Humanoid")
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
    
    if humanoid and humanoidRootPart then
        local targetCFrame = targetPart.CFrame
        humanoidRootPart.CFrame = CFrame.new(humanoidRootPart.Position, Vector3.new(targetCFrame.X, humanoidRootPart.Position.Y, targetCFrame.Z))
    end
end

-- Find nearest enemy
local function findNearestEnemy()
    local closestDistance = math.huge
    local closestPlayer = nil
    local targetPart = nil
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local character = player.Character
            local humanoid = character:FindFirstChild("Humanoid")
            local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
            
            if humanoid and humanoidRootPart and humanoid.Health > 0 then
                local distance = (humanoidRootPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
                
                if distance < 100 and distance < closestDistance then -- Range 100 studs
                    closestDistance = distance
                    closestPlayer = player
                    
                    if aimMode == "Head" then
                        targetPart = character:FindFirstChild("Head") or humanoidRootPart
                    else
                        targetPart = humanoidRootPart
                    end
                end
            end
        end
    end
    
    return targetPart
end

-- Teleport Tab
local TeleportTab = Instance.new("ScrollingFrame")
TeleportTab.Size = UDim2.new(1, 0, 1, 0)
TeleportTab.BackgroundTransparency = 1
TeleportTab.ScrollBarThickness = 4
TeleportTab.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 120)
TeleportTab.Visible = false
TeleportTab.CanvasSize = UDim2.new(0, 0, 0, 400)
TeleportTab.Parent = TabContents

-- ========================================
-- ISI KOORDINAT TELEPORT DI SINI
-- Format: Vector3.new(X, Y, Z)
-- ========================================
teleportPoints[1] = Vector3.new(-459.97, 3.74, 342.52)      -- TELEPORT 1 - Ganti koordinat sesuai keinginan
teleportPoints[2] = Vector3.new(1174.82, 3.36, -26.25)      -- TELEPORT 2 - Ganti koordinat sesuai keinginan
teleportPoints[3] = Vector3.new(521.43, 3.58, 592.97)      -- TELEPORT 3 - Ganti koordinat sesuai keinginan
teleportPoints[4] = Vector3.new(731.95, 3.82, 416.19)       -- TELEPORT 4 - Ganti koordinat sesuai keinginan
teleportPoints[5] = Vector3.new(915.70, 3.36, 81.71)    -- TELEPORT 5 - Ganti koordinat sesuai keinginan

-- Nama untuk setiap teleport point
local teleportNames = {
    "SENJATA ðŸ”«",      -- Nama Teleport 1
    "KASINO â™£",        -- Nama Teleport 2
    "BAHAN MS â˜•",      -- Nama Teleport 3
    "DS ðŸš˜",    -- Nama Teleport 4
    "APARTEMEN ðŸ¢"       -- Nama Teleport 5
}

local function createTeleportButton(index, yPosition)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(1, -10, 0, 60)
    button.Position = UDim2.new(0, 5, 0, yPosition)
    button.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    button.BackgroundTransparency = 0.2
    button.BorderSizePixel = 0
    button.AutoButtonColor = false
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 10)
    buttonCorner.Parent = button
    
    local buttonStroke = Instance.new("UIStroke")
    buttonStroke.Color = Color3.fromRGB(0, 100, 200)
    buttonStroke.Thickness = 2
    buttonStroke.Transparency = 0.5
    buttonStroke.Parent = button
    
    -- Title
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, -20, 0, 25)
    title.Position = UDim2.new(0, 10, 0, 5)
    title.BackgroundTransparency = 1
    title.TextColor3 = Color3.fromRGB(255, 200, 100)
    title.Text = "TELEPORT " .. index .. " - " .. teleportNames[index]
    title.Font = Enum.Font.GothamBold
    title.TextSize = 14
    title.TextXAlignment = Enum.TextXAlignment.Left
    title.Parent = button
    
    -- Coordinates
    local coords = Instance.new("TextLabel")
    coords.Size = UDim2.new(1, -20, 0, 20)
    coords.Position = UDim2.new(0, 10, 0, 32)
    coords.BackgroundTransparency = 1
    coords.TextColor3 = Color3.fromRGB(180, 180, 180)
    coords.Text = string.format("X: %.0f  |  Y: %.0f  |  Z: %.0f", 
        teleportPoints[index].X, 
        teleportPoints[index].Y, 
        teleportPoints[index].Z)
    coords.Font = Enum.Font.Gotham
    coords.TextSize = 12
    coords.TextXAlignment = Enum.TextXAlignment.Left
    coords.Parent = button
    
    -- Hover effect
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
        buttonStroke.Thickness = 3
        buttonStroke.Transparency = 0
    end)
    
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
        buttonStroke.Thickness = 2
        buttonStroke.Transparency = 0.5
    end)
    
    -- Teleport action
    button.MouseButton1Click:Connect(function()
        local character = LocalPlayer.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            character.HumanoidRootPart.CFrame = CFrame.new(teleportPoints[index])
            print("âœ… Teleported to:", teleportNames[index])
            
            -- Visual feedback
            button.BackgroundColor3 = Color3.fromRGB(0, 150, 100)
            wait(0.3)
            button.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
        else
            warn("âŒ Character not found!")
        end
    end)
    
    button.Parent = TeleportTab
    return button
end

-- Create 5 teleport buttons
for i = 1, 5 do
    createTeleportButton(i, (i-1) * 70)
end

-- Spectate Tab
local SpectateTab = Instance.new("Frame")
SpectateTab.Size = UDim2.new(1, 0, 1, 0)
SpectateTab.BackgroundTransparency = 1
SpectateTab.Visible = false
SpectateTab.Parent = TabContents

local UsernameBox = Instance.new("TextBox")
UsernameBox.Size = UDim2.new(1, -100, 0, 40)
UsernameBox.Position = UDim2.new(0, 0, 0, 10)
UsernameBox.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
UsernameBox.TextColor3 = Color3.fromRGB(255, 255, 255)
UsernameBox.PlaceholderText = "Enter Username..."
UsernameBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
UsernameBox.Text = ""
UsernameBox.Font = Enum.Font.Gotham
UsernameBox.TextSize = 14
UsernameBox.ClearTextOnFocus = false

local TextBoxCorner = Instance.new("UICorner")
TextBoxCorner.CornerRadius = UDim.new(0, 8)
TextBoxCorner.Parent = UsernameBox

local SpectateButton = Instance.new("TextButton")
SpectateButton.Size = UDim2.new(0, 80, 0, 40)
SpectateButton.Position = UDim2.new(1, -80, 0, 10)
SpectateButton.BackgroundColor3 = Color3.fromRGB(0, 150, 100)
SpectateButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SpectateButton.Text = "SPECTATE"
SpectateButton.Font = Enum.Font.GothamBold
SpectateButton.TextSize = 12
SpectateButton.BorderSizePixel = 0

local SpectateCorner = Instance.new("UICorner")
SpectateCorner.CornerRadius = UDim.new(0, 8)
SpectateCorner.Parent = SpectateButton

local SpectateStatus = Instance.new("TextLabel")
SpectateStatus.Size = UDim2.new(1, 0, 0, 30)
SpectateStatus.Position = UDim2.new(0, 0, 0, 70)
SpectateStatus.BackgroundTransparency = 1
SpectateStatus.TextColor3 = Color3.fromRGB(255, 255, 255)
SpectateStatus.Text = "Status: Not Spectating"
SpectateStatus.Font = Enum.Font.Gotham
SpectateStatus.TextSize = 13
SpectateStatus.TextXAlignment = Enum.TextXAlignment.Left
SpectateStatus.Parent = SpectateTab

local TeleportToPlayerButton = Instance.new("TextButton")
TeleportToPlayerButton.Size = UDim2.new(1, 0, 0, 40)
TeleportToPlayerButton.Position = UDim2.new(0, 0, 0, 110)
TeleportToPlayerButton.BackgroundColor3 = Color3.fromRGB(100, 0, 150)
TeleportToPlayerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TeleportToPlayerButton.Text = "TELEPORT TO PLAYER"
TeleportToPlayerButton.Font = Enum.Font.GothamBold
TeleportToPlayerButton.TextSize = 13
TeleportToPlayerButton.Visible = false
TeleportToPlayerButton.BorderSizePixel = 0

local TeleportCorner = Instance.new("UICorner")
TeleportCorner.CornerRadius = UDim.new(0, 8)
TeleportCorner.Parent = TeleportToPlayerButton

SpectateButton.MouseButton1Click:Connect(function()
    local username = UsernameBox.Text
    if username == "" then return end
    
    for _, player in pairs(Players:GetPlayers()) do
        if string.lower(player.Name) == string.lower(username) or string.lower(player.DisplayName) == string.lower(username) then
            spectatingPlayer = player
            isSpectating = true
            SpectateStatus.Text = "Status: Spectating " .. player.Name
            TeleportToPlayerButton.Visible = true
            print("Now spectating:", player.Name)
            return
        end
    end
    
    SpectateStatus.Text = "Status: Player not found"
end)

TeleportToPlayerButton.MouseButton1Click:Connect(function()
    if not spectatingPlayer or not spectatingPlayer.Character then return end
    
    local targetPos = spectatingPlayer.Character:FindFirstChild("HumanoidRootPart")
    if targetPos then
        LocalPlayer.Character.HumanoidRootPart.CFrame = targetPos.CFrame
        print("Teleported to player:", spectatingPlayer.Name)
    end
end)

UsernameBox.Parent = SpectateTab
SpectateButton.Parent = SpectateTab
TeleportToPlayerButton.Parent = SpectateTab

-- Buy Tab (Kosong)
local BuyTab = Instance.new("Frame")
BuyTab.Size = UDim2.new(1, 0, 1, 0)
BuyTab.BackgroundTransparency = 1
BuyTab.Visible = false
BuyTab.Parent = TabContents

local BuyText = Instance.new("TextLabel")
BuyText.Size = UDim2.new(1, 0, 0.5, 0)
BuyText.Position = UDim2.new(0, 0, 0.25, 0)
BuyText.BackgroundTransparency = 1
BuyText.TextColor3 = Color3.fromRGB(255, 255, 255)
BuyText.Text = "BUY SECTION\nComing Soon..."
BuyText.Font = Enum.Font.GothamBold
BuyText.TextSize = 18
BuyText.TextWrapped = true
BuyText.Parent = BuyTab

-- Parent elements
CloseButton.Parent = Header
Header.Parent = MainFrame
MainFrame.Parent = ScreenGui
MiniIcon.Parent = ScreenGui

-- Create tab buttons
local tabButtons = {}
for i, tabName in ipairs(Tabs) do
    local button = createTabButton(tabName, i)
    tabButtons[tabName] = button
    
    button.MouseButton1Click:Connect(function()
        CurrentTab = tabName
        
        -- Hide all tabs
        InformationTab.Visible = false
        AimTab.Visible = false
        TeleportTab.Visible = false
        SpectateTab.Visible = false
        BuyTab.Visible = false
        
        -- Show current tab
        if tabName == "Information" then
            InformationTab.Visible = true
        elseif tabName == "Aim" then
            AimTab.Visible = true
        elseif tabName == "Teleport" then
            TeleportTab.Visible = true
        elseif tabName == "Spectate" then
            SpectateTab.Visible = true
        elseif tabName == "Buy" then
            BuyTab.Visible = true
        end
        
        -- Update tab button colors
        for name, btn in pairs(tabButtons) do
            if name == tabName then
                btn.BackgroundColor3 = Color3.fromRGB(0, 100, 150)
            else
                btn.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
            end
        end
    end)
end

-- Set initial tab
tabButtons["Information"].BackgroundColor3 = Color3.fromRGB(0, 100, 150)
InformationTab.Visible = true

-- Drag functionality
local function startDrag(input, frame)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isDragging = true
        dragStart = input.Position
        if frame == MainFrame then
            mainStartPos = MainFrame.Position
        else
            iconStartPos = MiniIcon.Position
        end
    end
end

local function updateDrag(input)
    if not isDragging then return end
    
    local delta = input.Position - dragStart
    if MainFrame.Visible then
        MainFrame.Position = UDim2.new(
            mainStartPos.X.Scale, 
            mainStartPos.X.Offset + delta.X,
            mainStartPos.Y.Scale, 
            mainStartPos.Y.Offset + delta.Y
        )
    else
        MiniIcon.Position = UDim2.new(
            iconStartPos.X.Scale, 
            iconStartPos.X.Offset + delta.X,
            iconStartPos.Y.Scale, 
            iconStartPos.Y.Offset + delta.Y
        )
    end
end

local function endDrag()
    isDragging = false
end

-- Connect drag events
Header.InputBegan:Connect(function(input) startDrag(input, MainFrame) end)
MiniIcon.InputBegan:Connect(function(input) startDrag(input, MiniIcon) end)
UserInputService.InputChanged:Connect(updateDrag)
UserInputService.InputEnded:Connect(endDrag)

-- Close button functionality
CloseButton.MouseButton1Click:Connect(function()
    isMenuOpen = false
    MainFrame.Visible = false
    MiniIcon.Visible = true
    
    local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    local tween = TweenService:Create(MainFrame, tweenInfo, {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(MainFrame.Position.X.Scale, MainFrame.Position.X.Offset + 175, 
                           MainFrame.Position.Y.Scale, MainFrame.Position.Y.Offset + 250)
    })
    tween:Play()
    
    tween.Completed:Connect(function()
        MainFrame.Size = UDim2.new(0, 350, 0, 500)
    end)
end)

-- Mini icon functionality
MiniIcon.MouseButton1Click:Connect(function()
    isMenuOpen = true
    MiniIcon.Visible = false
    
    local tweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    
    MainFrame.Size = UDim2.new(0, 0, 0, 0)
    MainFrame.Position = UDim2.new(MiniIcon.Position.X.Scale, MiniIcon.Position.X.Offset + 25,
                                 MiniIcon.Position.Y.Scale, MiniIcon.Position.Y.Offset + 25)
    MainFrame.Visible = true
    
    local tween = TweenService:Create(MainFrame, tweenInfo, {
        Size = UDim2.new(0, 350, 0, 500),
        Position = UDim2.new(0.5, -175, 0.5, -250)
    })
    tween:Play()
end)

-- Aim assist loop
RunService.RenderStepped:Connect(function()
    if aimEnabled then
        local target = findNearestEnemy()
        if target then
            aimAtTarget(target)
        end
    end
end)

-- Insert GUI
ScreenGui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")

print("BN XITERZ Loaded Successfully!")
